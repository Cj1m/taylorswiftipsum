function getDesiredWordCount(){var a="130",b=$("#numberWords").val()||a;return b>=5e5&&(b=a,showError("Trying to break me like a promise? Generating default 130 words.")),b.match(/[^0-9]/g)&&(b=a,showError("Word count should be numeric value, generating default 130 words.")),b}function getSelectedAlbumLyrics(){for(var a=[],b=b||[],c=$(".album"),d=0;d<c.length;d++)c[d].checked===!0&&a.push(c[d].value);for(var e=0;e<a.length;e++)b=b.concat(lingo[a[e]]);return b}function generateIpsum(a,b,c,d){var e,f,g=[],h=b||getDesiredWordCount(),i=c||getSelectedAlbumLyrics(),j=0;for(isApi=d||!1;h>=j;){var k=Math.round(Math.random()*(i.length-1)),l=i[k].match(/\s/g)||[];j+=l.length+1,g.push(i[k])}return e=g.join(" ").split(" ").splice(0,h),f=addGrammar(h,e).join(" "),isApi!==!1?f:(changeHtml("outputWords",f),$("html, body").animate({scrollTop:0},"slow"),refreshView(),void 0)}function addGrammar(a,b){a=parseInt(a);for(var c=0;c>=0&&a-12>c;){var d=parseInt(getRandomNumberBtwn(5,11));c+=d,b[c]=b[c]+".",b[c+1]=b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1)}return b[0]=b[0].charAt(0).toUpperCase()+b[0].slice(1),b[b.length-1]=b[b.length-1]+".",b}function refreshView(){var a=$("#lorem-result"),b=$(".giphy-container"),c=$(".loading");"none"===a.css("display")&&(a.css("display","block"),a.animate({height:300},"slow")),b.css("display","block"),c.fadeIn(),setTimeout(function(){c.fadeOut("slow"),b.fadeOut("slow",function(){a.css("min-height","300px").css("height","auto"),$("#outputWords").fadeIn(),refreshOnce($("h1"),fadeReplaceText,{element:$("h1"),copy:"Want more?"}),refreshOnce($(".intro-text"),fadeReplaceText,{element:$(".intro-text"),copy:"Want to try again with different selections? No problem. Just fill out the form below & click the submit button again for another round of Taylor Swift Ipsum!"}),refreshOnce($(".masterpiece"),$.fn.fadeIn),replaceGif()})},2e3)}function replaceGif(){{var a=getRandomNumberBtwn(0,window.allGifs.length-1),b=window.allGifs[a].images.fixed_height.url||"http://media3.giphy.com/media/RrNielf11uMsU/200.gif",c=window.allGifs[a].images.fixed_height.width||"361",d=window.allGifs[a].images.fixed_height.height||"200",e=parseInt(c),f=parseInt(d)+50,g=e/2-c/2+"px";parseInt(c)+60+"px"}$("#gifyimg").remove(),$(".giphy-container").css("width",e),$(".giphy-container").css("height",f),$(".gif").append($("<img>",{id:"gifyimg",src:b})),$("#gifyimg").css("margin-left",g)}function hideCurrentWords(){var a=$("#outputWords");"block"===a.css("display")&&a.css("display","none")}function changeHtml(a,b){var c=document.getElementById(a);c.innerHTML=b}function showError(a){$(".errorMessage").text(a).css("display","block").fadeOut(9e3,"linear")}function getRandomNumberBtwn(a,b){var c,d=Math.round(Math.random()*b);return c=a>d?getRandomNumberBtwn(a,b):d}function refreshOnce(a,b,c){return a.hasClass("updated")?void 0:(a.addClass("updated"),b&&"function"==typeof b&&(c?b.call(a,c):b.call(a)),a)}function fadeReplaceText(a){var b=a.element,c=a.copy;b.fadeOut("fast",function(){b.text(c).fadeIn()})}function initEasterEggs(){var a=$(".snowContainer");easterEgg.counter=easterEgg.counter||0,easterEgg.counter++,easterEgg.counter%13===0&&(a.css("background-image",'url("https://usatlife.files.wordpress.com/2014/08/everswifttumblrcom.gif?w=1000")'),a.addClass("snowing")),easterEgg.counter>13&&easterEgg.counter%13===1&&(a.removeClass("snowing"),a.css("background-image",""))}function isChristmas(a){var b=new Date;easterEgg.xmas=a?a:11===b.getMonth()&&25===b.getDay(),christmasTheme()}function christmasTheme(){easterEgg.xmas===!0?($("h1").append('<img class="xmashat" src="imgs/xmashat.png" />'),$(".albumCheckBoxes").append('<label id="christmasAlbum" class="hidden"><input class="album hidden" type="checkbox" value="soundsoftheseason"><span class="album-title">Sounds Of The Season</span></label>'),$("#christmasAlbum").fadeIn(2e3)):console.log("It's not christmas. Bummer.")}$("#lorem-submitum").click(generateIpsum),$("#lorem-submitum").click(hideCurrentWords),$("#lorem-submitum").click(initEasterEggs),$.ajax({url:"http://api.giphy.com/v1/gifs/search?q=taylor+swift&limit=100&api_key=12PnkylgHYUVgs",dataType:"json",success:function(a){var b=[],c=[];restrictedIds=["cIGd1ypgKQANi","10vTFkY3S0ImRO"],_.each(a.data,function(a){"10vTFkY3S0ImRO"===a.id||"cIGd1ypgKQANi"===a.id?c.push(a):b.push(a)}),window.allGifs=b,replaceGif()}}),$.ajax({url:"http://api.tumblr.com/v2/blog/taylorswift.tumblr.com/posts?api_key=lFtJkzttWGO9Gz1xH6isQNVPidE4xIVV5XqPqzMfTzeg6vfUMw",dataType:"jsonp",success:function(a){var b=[];_.each(a.response.posts,function(a){_.each(a.tags,function(a){b.push("#"+a)})}),window.lingo.hashtags=b}});var easterEgg=easterEgg||{};!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-56746590-1","auto"),ga("send","pageview"),!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https";a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+"://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs");